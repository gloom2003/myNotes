### 二进制：

### 使用java代码查看

~~~java
public static void main(String[] args) {
		String reString = Integer.toBinaryString(10);
		System.out.println(reString);// 101
}
~~~



#### 介绍

在二进制里，是用0和1来表示正负的，最高位为符号位，最高位为1代表负数，最高位为0代表正数。

> 原码：一个正数，按照绝对值大小转换成的二进制数；一个负数按照绝对值大小转换成的二进制数，然后最高位补1，称为原码。

**比如 00000000 00000000 00000000 00000101 是 5的 原码。**

**10000000 00000000 00000000 00000101 是 -5的 原码。**

> 计算机中的数字以二进制补码的形式进行存储，正数的原、反、补码都是相同的，负数的补码等于：反码 + 1,其中负数的反码为对该数的原码除符号位外各位取反。

我们来看整数-1在计算机中如何表示。 
假设这也是一个int类型，那么： 

1、先取-1的原码：等于绝对值1的原码： 00000000 00000000 00000000 00000001改变符号位，即：10000000 00000000 00000000 00000001 
2、得反码：   11111111 11111111 11111111 11111110（除符号位按位取反） 
3、得补码：   11111111 11111111 11111111 11111111 (+ 1)

#### byte的最小值为什么是-128

 以java中8位的byte为例，java中基本类型byte占8 bits,取值范围是-128到最+127

一般思维：

1. 最高位为符号位，最大值肯定为正数，即：0111 1111 即2的7次方-1，即：+127
2. 最小值肯定为负数，即：1111 1111 即:负2的7次方-1，即：-127

正确思维：

1. 最大值(补码)为：0111 1111 ：正数，原码也为0111 1111，即2的7次方-1，即：+127
2. 由于0的存在，固定 0000 0000表示为0，对应的补码1000 0000 **人为规定为 -128！**，所以最小值为-128

最小值(补码)为1000 0000 : 负数，反码为1000 0000 - 1，即：0111 1111，原码为反码除符号位取反：0000 0000 ，即：0



### 移位运算符

#### 概念

但是对计算机中存储的**补码进行操作**：

- 左移操作符 `<<` 是将数据转换成二进制数后，**向左移若干位，高位丢弃，低位补零**。

- `>>` 是带符号的右移操作符，将数据转换成二进制数后，**向右移若干位，高位补符号位，低位丢弃**。对于正数作右移操作时，具体体现为高位补`0`；负数则补`1`。
- 无符号右移操作符 `>>>`与`>>`类似，都是将数据转换为二进制数后右移若干位，不同之处在于，不论负数与否，结果都是**高位补零，低位丢弃**。



#### 注意：

##### 对`byte`、`short`、`char`进行移位

Java在处理`byte`、`short`、`char`的移位操作前，会**先将其转型成`int`类型，然后在进行操作**！特别地，当对这三者使用`<<=`、`>>=`和`>>>=`时，其实是得到对移位后的`int`进行低位截断后的结果！

实际的运算过程应该是这样：	

![byte -1 >>> 6 = -1](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/12/22/16f2d2e512a59dfe~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp)byte -1 >>> 6 = -1

对于`short`和`char`的移位操作原理也一样

##### 移位的大小超过了本身的位数

Java对移位操作符的右操作数`rhs`有特别的处理，对于`int`类型，只取`rhs % 32`的结果；对于long类型，只取`rhs % 64`的结果。

对于`i4 >>> 33`等同于`i4 >>> 1`，其结果为`2147483647`。

![int -1 >>> 33 = 2147483647](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/12/22/16f2d2e53a7e1af2~tplv-t2oaga2asx-jj-mark:3024:0:0:0:q75.awebp)int -1 >>> 33 = 2147483647