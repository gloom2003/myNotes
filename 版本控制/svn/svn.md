#### SVN

参考链接：https://www.bilibili.com/video/BV1k4411m7mP/?spm_id_from=333.337.search-card.all.click&vd_source=d6367c1fc21883823f1fb738f86ef26e



![image-20240729140957080](E:\alwaysUse\notes\myNotes\版本控制\svn\svn.assets\image-20240729140957080.png)

SVN与git的不同：



##### 基本操作：

1 **checkOut(检出)**：获取代码，相当于Git的：pull，clone

2 **提交(commit)**：

- 每次提交就相当于git的一次push，会直接push到远程仓库中（要输入用户名与密码）。
- SVN的版本库只在服务端中，而Git在本地工作区中就有作为隐藏文件的版本库。

3 **更新（Update）**

作用：SVN在每次提交之前先进行SVN的更新，可以避免冲突覆盖别人的代码，（相当于Git的pull？）

选中一个文件进行update操作的话，只会更新这个文件的内容。



##### 撤销和恢复：

- **撤销本地修改**  ：选中文件 -> 点击SVN还原 即可把这个文件恢复到修改之前的内容

- **撤销已提交内容** ：

  - 1）在本地撤销：显示日志 -> 选中相应的版本 -> 右键选择还原此版本做出的修改，点击还原即可。

  - 2）撤销服务端的：直接提交即可

- **恢复到指定版本**：

  - 1)在本恢复：显示日志 -> 选中相应的版本 -> 右键选择复原到此版本

  - 2)恢复服务端的：直接提交即可

##### 设置忽略文件

**忽略文件**：选中文件或文件夹 -> 右键选择去除版本控制并添加到忽略文件 -> 选择忽略的文件即可（就算选择了*.xml,结果还是没有选择整个项目的xml文件进行忽略，**要选择recursively 递归地才能够忽略文件夹内部的全部文件**）

**解除忽略**：选中文件 -> 右键选择增加(替换)

书写全局忽略文件：

![image-20241010165155493](E:\alwaysUse\notes\myNotes\版本控制\svn\svn.assets\image-20241010165155493.png)

![image-20241010165250305](E:\alwaysUse\notes\myNotes\版本控制\svn\svn.assets\image-20241010165250305.png)



要实现递归匹配 `.git` 目录及其所有内容（文件与文件夹），通常使用更通用的 `**` 规则来递归匹配所有子目录中的文件：

- 在 SVN 全局忽略文件中（`config`）设置：

  ```
  [miscellany]
  global-ignores = .git .git/** .gitignore
  ```

###### 忽略规则解释

1. **`.git`**：
   - 忽略 `.git` 目录本身（即不追踪 `.git` 目录）。
2. **`.git/**`**：
   - 忽略 `.git` 目录下的所有文件和子目录。
   - 递归匹配 `.git` 目录中的每个文件和文件夹，不论深度如何（包括 `.git/objects`、`.git/refs` 等内部所有结构）。
3. **`.gitignore`**（可选）：
   - 忽略 `.gitignore` 文件（如果你不希望 SVN 追踪 Git 的忽略文件）。



##### 解决冲突

**什么情况容易发生冲突？**

- 多个人修改了同一个文件的同一行
- 无法进行自动合并的二进制文件（如：图片）

**怎么避免冲突？**

- 经常update同步下他人的代码，保持自己的代码是一个最新的状态
- 二进制文件不要多个人同时操作

**冲突了怎么办？**

处理非二进制文件冲突：

在提示冲突界面 -> 编辑冲突 -> 解决冲突(有一方是符合要求的：右键选择使用此文本块) -> 标记为解决

![image-20240729170526726](E:\alwaysUse\notes\myNotes\版本控制\svn\svn.assets\image-20240729170526726.png)



处理二进制文件冲突：

选择编辑冲突：

![image-20240729171110470](E:\alwaysUse\notes\myNotes\版本控制\svn\svn.assets\image-20240729171110470.png)

或者 选择使用他们的文本块版本等

##### 分支

**什么时候需要开分支？**

- 隔离线上版本和开发版本
- 大功能开发，不想影响到其他人，自己独立开个分支去开发，开发完成再合并回去

**SVN经典目录结构：**

- trunk 主干
- branches 分支
- tags 标签



**开分支**：选中trunk目录 -> 在SVN中选择分支 -> 配置分支信息(1 分支路径：branches文件夹下的自定义名称文件夹 2 选择是从版本库中的最新版本还是指定版本来创建分支) -> 点击空白处，在SVN中选择更新 -> 展示刚刚创建的分支文件夹

选择分支文件夹 -> 右击选择属性 -> 复制URL